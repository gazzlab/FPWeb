#!/usr/bin/env python
import json
import requests
#from demodata import demodata, demodata1

demodata1 =  {u'data': [{u'answer': u'Test1',u'surveyID': u'DATpre', u'prompt': u'iPad #:', u'timeStamp': 1372378669.288414}, {u'answer': u'nothing happened yet', u'surveyID': u'DATpre', u'prompt': u'Did anything good or bad happen today yet?', u'timeStamp': 1372378669.288414}, {u'answer': u'5 - really happy and upbeat', u'surveyID': u'DATpre', u'prompt': u'How are you feeling today, on a scale from 0-5', u'timeStamp': 1372378669.288414}, {u'answer': u'6:0', u'surveyID': u'DATpre', u'prompt': u'What time did you wake up this morning?', u'timeStamp': 1372378669.288414}, {u'answer': 6.0, u'surveyID': u'DATpre', u'prompt': u'How many hours of sleep did you get last night?', u'timeStamp': 1372378669.288414}, {u'answer': u'1-2 hours', u'surveyID': u'DATpre', u'prompt': u'How long did it take you to fall asleep last night, from getting into bed to actually falling asleep?', u'timeStamp': 1372378669.288414}, {u'answer': u'2', u'surveyID': u'DATpre', u'prompt': u'On a scale from 1-10, how hyper or energetic are you feeling today so far?', u'timeStamp': 1372378669.288414}, {u'answer': u'No', u'surveyID': u'DATpre', u'prompt': u'Have you had coffee yet today?', u'timeStamp': 1372378669.288414}, {u'answer': u'7 days/week', u'surveyID': u'DATpre', u'prompt': u'How many days a week do you drink coffee in a normal week?', u'timeStamp': 1372378669.288414}, {u'answer': u'22', u'surveyID': u'DATpre', u'prompt': u'iPad #:', u'timeStamp': 1372379040.799599}, {u'answer': u'nothing happened yet', u'surveyID': u'DATpre', u'prompt': u'Did anything good or bad happen today yet?', u'timeStamp': 1372379040.799599}, {u'answer': u'0 - really unhappy and down', u'surveyID': u'DATpre', u'prompt': u'How are you feeling today, on a scale from 0-5', u'timeStamp': 1372379040.799599}, {u'answer': u'0:0', u'surveyID': u'DATpre', u'prompt': u'What time did you wake up this morning?', u'timeStamp': 1372379040.799599}, {u'answer': 6.0, u'surveyID': u'DATpre', u'prompt': u'How many hours of sleep did you get last night?', u'timeStamp': 1372379040.799599}, {u'answer': u'0-15 minutes', u'surveyID': u'DATpre', u'prompt': u'How long did it take you to fall asleep last night, from getting into bed to actually falling asleep?', u'timeStamp': 1372379040.799599}, {u'answer': u'1 - very tired/non-energetic', u'surveyID': u'DATpre', u'prompt': u'On a scale from 1-10, how hyper or energetic are you feeling today so far?', u'timeStamp': 1372379040.799599}, {u'answer': u'Yes', u'surveyID': u'DATpre', u'prompt': u'Have you had coffee yet today?', u'timeStamp': 1372379040.799599}, {u'answer': u'0 days/week', u'surveyID': u'DATpre', u'prompt': u'How many days a week do you drink coffee in a normal week?', u'timeStamp': 1372379040.799599}], u'subjectID': u'jacki27', u'studyID': u'datpre'}

r = requests.post('http://localhost:5000/datapost', data=json.dumps(demodata1))
assert r.status_code == 200, r.status_code
assert r.headers['content-type'] == 'text/html; charset=utf-8', r.headers['content-type']
print r.text


print '-' * 70
print 'Okay!'
